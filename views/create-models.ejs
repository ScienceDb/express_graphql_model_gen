'use strict';

module.exports = function(sequelize, DataTypes){
  var <%- name -%> = sequelize.define('<%- nameLc -%>',{
    <% for (var key in attributes) { %>
      <%= key %>: {
          type: Sequelize.<%= attributes[key].toUpperCase() %>
      },
    <% } %>
  });

  <%- name -%>.associate = function(models){
    <% for (var key in associations) { %>
      <% for(let i=0; i < associations[key].length; i++){ %>
        <%- name -%>.<%= key %>(models.<%= associations[key][i].target.toLowerCase() %>);
      <% } %>
    <% } %>
  };

  return <%- name -%>;
};
